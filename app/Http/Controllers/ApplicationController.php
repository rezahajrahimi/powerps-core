<?php
bolt_decrypt( __FILE__ , 'KZ3kXe'); return 0;
##!!!##CgpuYW1lc3BhY2UgQXBwXEh0dHBcQ29udHJvbGxlcnM7Cgp1c2UgQXBwXE1vZGVsc1xBcHBsaWNhdGlvbjsKdXNlIElsbHVtaW5hdGVcSHR0cFxSZXF1ZXN0OwoKY2xhc3MgQXBwbGljYXRpb25Db250cm9sbGVyIGV4dGVuZHMgQ29udHJvbGxlcgp7CiAgICBwdWJsaWMgZnVuY3Rpb24gZ2V0QWxsQXBsaWNhdGlvbkxpc3QoKQogICAgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgICRhcHBsaWNhdGlvbiA9IEFwcGxpY2F0aW9uOjphbGwoKTsKICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlKCktPmpzb24oJGFwcGxpY2F0aW9uLCAyMDApOwogICAgICAgIH0gY2F0Y2ggKFxUaHJvd2FibGUgJHRoKSB7CiAgICAgICAgICAgIFxMb2c6OmluZm8oIlRocm93YWJsZSAkdGgiKTsKICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlKCktPmpzb24oJ1NlcnZlciBFcnJvcicsIDUwMCk7CiAgICAgICAgfQogICAgfQogICAgcHVibGljIGZ1bmN0aW9uIGdldEFsbEFjdGl2ZUFwbGljYXRpb25MaXN0KCkKICAgIHsKICAgICAgICB0cnkgewogICAgICAgICAgICAkYXBwbGljYXRpb24gPSBBcHBsaWNhdGlvbjo6d2hlcmUoJ2lzX2FjdGl2ZScsIHRydWUpLT5nZXQoKTsKICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlKCktPmpzb24oJGFwcGxpY2F0aW9uLCAyMDApOwogICAgICAgIH0gY2F0Y2ggKFxUaHJvd2FibGUgJHRoKSB7CiAgICAgICAgICAgIFxMb2c6OmluZm8oIlRocm93YWJsZSAkdGgiKTsKICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlKCktPmpzb24oJ1NlcnZlciBFcnJvcicsIDUwMCk7CiAgICAgICAgfQogICAgfQogICAgcHVibGljIGZ1bmN0aW9uIGdldEFsbEFjdGl2ZUFwbGljYXRpb25MaXN0QnlPUygkb3MpCiAgICB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgJGFwcGxpY2F0aW9uID0gQXBwbGljYXRpb246OndoZXJlKCdpc19hY3RpdmUnLCB0cnVlKQogICAgICAgICAgICAgICAgLT53aGVyZSgnb3MnLCAkb3MpCiAgICAgICAgICAgICAgICAtPmdldCgpOwogICAgICAgICAgICByZXR1cm4gJGFwcGxpY2F0aW9uOwogICAgICAgIH0gY2F0Y2ggKFxUaHJvd2FibGUgJHRoKSB7CiAgICAgICAgICAgIFxMb2c6OmluZm8oIlRocm93YWJsZSAkdGgiKTsKICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlKCktPmpzb24oJ1NlcnZlciBFcnJvcicsIDUwMCk7CiAgICAgICAgfQogICAgfQogICAgcHVibGljIGZ1bmN0aW9uIGdldEFwcGxpY2F0aW9uT1NlcygpIHsKICAgICAgICB0cnkgewogICAgICAgICAgICAkYXBwbGljYXRpb24gPSBBcHBsaWNhdGlvbjo6c2VsZWN0KCdvcycpCiAgICAgICAgICAgIC0+d2hlcmUoJ2lzX2FjdGl2ZScsIHRydWUpCiAgICAgICAgICAgIC0+b3JkZXJieSgnb3MnKQogICAgICAgICAgICAtPmRpc3RpbmN0KCkKCiAgICAgICAgICAgIC0+Z2V0KCk7CiAgICAgICAgICAgIHJldHVybiAkYXBwbGljYXRpb247CiAgICAgICAgfSBjYXRjaCAoXFRocm93YWJsZSAkdGgpIHsKICAgICAgICAgICAgXExvZzo6aW5mbygiVGhyb3dhYmxlICR0aCIpOwogICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UoKS0+anNvbignU2VydmVyIEVycm9yJywgNTAwKTsKICAgICAgICB9CiAgICB9CiAgICBwdWJsaWMgZnVuY3Rpb24gZ2V0QWN0aXZlQXBsaWNhdGlvbkxpc3RCeU5hbWUoJG5hbWUpCiAgICB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgJGFwcGxpY2F0aW9uID0gQXBwbGljYXRpb246OndoZXJlKCdpc19hY3RpdmUnLCB0cnVlKQogICAgICAgICAgICAgICAgLT53aGVyZSgnbmFtZScsICRuYW1lKQogICAgICAgICAgICAgICAgLT5maXJzdCgpOwogICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UoKS0+anNvbigkYXBwbGljYXRpb24sIDIwMCk7CiAgICAgICAgfSBjYXRjaCAoXFRocm93YWJsZSAkdGgpIHsKICAgICAgICAgICAgXExvZzo6aW5mbygiVGhyb3dhYmxlICR0aCIpOwogICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UoKS0+anNvbignU2VydmVyIEVycm9yJywgNTAwKTsKICAgICAgICB9CiAgICB9CiAgICBwdWJsaWMgZnVuY3Rpb24gZ2V0QWN0aXZlQXBsaWNhdGlvbkJ5SUQoJGlkKQogICAgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgICRhcHBsaWNhdGlvbiA9IEFwcGxpY2F0aW9uOjp3aGVyZSgnaXNfYWN0aXZlJywgdHJ1ZSkKICAgICAgICAgICAgICAgIC0+d2hlcmUoJ2lkJywgJGlkKQogICAgICAgICAgICAgICAgLT5maXJzdCgpOwogICAgICAgICAgICByZXR1cm4gJGFwcGxpY2F0aW9uOwogICAgICAgIH0gY2F0Y2ggKFxUaHJvd2FibGUgJHRoKSB7CiAgICAgICAgICAgIFxMb2c6OmluZm8oIlRocm93YWJsZSAkdGgiKTsKICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlKCktPmpzb24oJ1NlcnZlciBFcnJvcicsIDUwMCk7CiAgICAgICAgfQogICAgfQogICAgcHVibGljIGZ1bmN0aW9uIGNyZWF0ZU5ld0FwcGxpY2F0aW9uKFJlcXVlc3QgJHJlcXVlc3QpCiAgICB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgICAgJGFwcGxpY2F0aW9uID0gbmV3IEFwcGxpY2F0aW9uKCk7CiAgICAgICAgICAgICRhcHBsaWNhdGlvbi0+bmFtZSA9ICRyZXF1ZXN0LT5uYW1lOwogICAgICAgICAgICAkYXBwbGljYXRpb24tPmRvd25sb2FkX2xpbmsgPSAkcmVxdWVzdC0+ZG93bmxvYWRfbGluazsKICAgICAgICAgICAgJGFwcGxpY2F0aW9uLT5maWxlX3NyYyA9ICRyZXF1ZXN0LT5maWxlX3NyYzsKICAgICAgICAgICAgJGFwcGxpY2F0aW9uLT5vcyA9ICRyZXF1ZXN0LT5vczsKICAgICAgICAgICAgJGFwcGxpY2F0aW9uLT5ob3dfdG9fdXNlID0gJHJlcXVlc3QtPmhvd190b191c2U7CiAgICAgICAgICAgICRhcHBsaWNhdGlvbi0+eW91dHViZV9saW5rID0gJHJlcXVlc3QtPnlvdXR1YmVfbGluazsKICAgICAgICAgICAgJGFwcGxpY2F0aW9uLT5pc19hY3RpdmUgPSAkcmVxdWVzdC0+aXNfYWN0aXZlID09ICJ0cnVlIiB8fCRyZXF1ZXN0LT5pc19hY3RpdmUgPT0gMSA/IHRydWUgOiBmYWxzZSAgIDsKICAgICAgICAgICAgJGFwcGxpY2F0aW9uLT5kZXNjcmlwdGlvbiA9ICRyZXF1ZXN0LT5kZXNjcmlwdGlvbjsKICAgICAgICAgICAgJGFwcGxpY2F0aW9uLT5zYXZlKCk7CiAgICAgICAgICAgIHJldHVybiByZXNwb25zZSgpLT5qc29uKCRhcHBsaWNhdGlvbiwgMjAwKTsKCiAgICAgICAgfSBjYXRjaCAoXFRocm93YWJsZSAkdGgpIHsKICAgICAgICAgICAgXExvZzo6aW5mbygiVGhyb3dhYmxlICR0aCIpOwogICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UoKS0+anNvbignU2VydmVyIEVycm9yJywgNTAwKTsKICAgICAgICB9CiAgICB9CiAgICBwdWJsaWMgZnVuY3Rpb24gdXBkYXRlQXBwbGljYXRpb24oUmVxdWVzdCAkcmVxdWVzdCkKICAgIHsKICAgICAgICB0cnkgewogICAgICAgICAgICAkYXBwbGljYXRpb24gPSBBcHBsaWNhdGlvbjo6ZmluZE9yRmFpbCgkcmVxdWVzdC0+aWQpOwogICAgICAgICAgICAkYXBwbGljYXRpb24tPm5hbWUgPSAkcmVxdWVzdC0+bmFtZTsKICAgICAgICAgICAgJGFwcGxpY2F0aW9uLT5kb3dubG9hZF9saW5rID0gJHJlcXVlc3QtPmRvd25sb2FkX2xpbms7CiAgICAgICAgICAgICRhcHBsaWNhdGlvbi0+ZmlsZV9zcmMgPSAkcmVxdWVzdC0+ZmlsZV9zcmM7CiAgICAgICAgICAgICRhcHBsaWNhdGlvbi0+b3MgPSAkcmVxdWVzdC0+b3M7CiAgICAgICAgICAgICRhcHBsaWNhdGlvbi0+aG93X3RvX3VzZSA9ICRyZXF1ZXN0LT5ob3dfdG9fdXNlOwogICAgICAgICAgICAkYXBwbGljYXRpb24tPnlvdXR1YmVfbGluayA9ICRyZXF1ZXN0LT55b3V0dWJlX2xpbms7CiAgICAgICAgICAgICRhcHBsaWNhdGlvbi0+aXNfYWN0aXZlID0gJHJlcXVlc3QtPmlzX2FjdGl2ZSA9PSAidHJ1ZSIgfHwkcmVxdWVzdC0+aXNfYWN0aXZlID09IDEgPyB0cnVlIDogZmFsc2UgICA7CiAgICAgICAgICAgICRhcHBsaWNhdGlvbi0+ZGVzY3JpcHRpb24gPSAkcmVxdWVzdC0+ZGVzY3JpcHRpb247CiAgICAgICAgICAgICRhcHBsaWNhdGlvbi0+dXBkYXRlKCk7CiAgICAgICAgICAgIHJldHVybiByZXNwb25zZSgpLT5qc29uKCRhcHBsaWNhdGlvbiwgMjAwKTsKCiAgICAgICAgfSBjYXRjaCAoXFRocm93YWJsZSAkdGgpIHsKICAgICAgICAgICAgXExvZzo6aW5mbygiVGhyb3dhYmxlICR0aCIpOwogICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UoKS0+anNvbignU2VydmVyIEVycm9yJywgNTAwKTsKICAgICAgICB9CiAgICB9CiAgICBwdWJsaWMgZnVuY3Rpb24gZGVsZXRlQXBwbGljYXRpb24oJGlkKQogICAgewogICAgICAgIHRyeSB7CiAgICAgICAgICAgICRhcHBsaWNhdGlvbiA9IEFwcGxpY2F0aW9uOjpmaW5kT3JGYWlsKCRpZCk7CiAgICAgICAgICAgICRhcHBsaWNhdGlvbi0+ZGVsZXRlKCk7CiAgICAgICAgICAgIHJldHVybiByZXNwb25zZSgpLT5qc29uKHRydWUsIDIwMCk7CgogICAgICAgIH0gY2F0Y2ggKFxUaHJvd2FibGUgJHRoKSB7CiAgICAgICAgICAgIFxMb2c6OmluZm8oIlRocm93YWJsZSAkdGgiKTsKICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlKCktPmpzb24oJ1NlcnZlciBFcnJvcicsIDUwMCk7CiAgICAgICAgfQogICAgfQp9Cg==