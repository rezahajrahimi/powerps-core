<?php
bolt_decrypt( __FILE__ , 'U9UtTU'); return 0;
##!!!##CgpuYW1lc3BhY2UgQXBwXE1vZGVsczsKCnVzZSBJbGx1bWluYXRlXERhdGFiYXNlXEVsb3F1ZW50XEZhY3Rvcmllc1xIYXNGYWN0b3J5Owp1c2UgSWxsdW1pbmF0ZVxEYXRhYmFzZVxFbG9xdWVudFxNb2RlbDsKdXNlIFZlcnRhOwoKY2xhc3MgUHJvZHVjdCBleHRlbmRzIE1vZGVsCnsKICAgIHVzZSBIYXNGYWN0b3J5OwogICAgcHJvdGVjdGVkICRndWFyZGVkID0gWydpZCcsICdwcm9kdWN0X2NhdGVnb3JpZXNfaWQnLCAnYWNjb3VudF9pZCddOwogICAgcHJvdGVjdGVkICRmaWxsYWJsZSA9IFsncHJvZHVjdF9jYXRlZ29yaWVzX2lkJywgJ2NvbmZpZ3MnLCAnc3Vic2NyaXB0aW9uX2xpbmsnLCAncGFuZWxfbGluaycsICdpc0FjdGl2ZScsICdhY2NvdW50X2lkJywgJ3JlbWFyaycsJ2RlYWN0aXZlX2J5X2FkbWluJ107CgoKICAgIHB1YmxpYyBmdW5jdGlvbiBnZXRQcm9kdWN0QnlJRCgkaWQpCiAgICB7CiAgICAgICAgcmV0dXJuIFByb2R1Y3Q6OmZpbmQoJGlkKTsKICAgIH0KICAgIHB1YmxpYyBmdW5jdGlvbiBnZXRQcm9kb3VjdFBhbmVsQnlJRCgkaWQpCiAgICB7CiAgICAgICAgcmV0dXJuIFByb2R1Y3Q6OmZpbmQoJGlkKS0+cHJvZHVjdF9jYXRlZ29yeV9hbmRfcGFuZWw7CiAgICB9CiAgICAvKioKICAgICAqIEdldCB0aGUgdXNlciB0aGF0IG93bnMgdGhlIFByb2R1Y3QKICAgICAqCiAgICAgKiBAcmV0dXJuIFxJbGx1bWluYXRlXERhdGFiYXNlXEVsb3F1ZW50XFJlbGF0aW9uc1xCZWxvbmdzVG8KICAgICAqLwogICAgcHVibGljIGZ1bmN0aW9uIHByb2R1Y3RfY2F0ZWdvcnkoKQogICAgewogICAgICAgIHJldHVybiAkdGhpcy0+YmVsb25nc1RvKFByb2R1Y3RDYXRlZ29yeTo6Y2xhc3MsICdwcm9kdWN0X2NhdGVnb3JpZXNfaWQnKTsKICAgIH0KICAgIHB1YmxpYyBmdW5jdGlvbiBwcm9kdWN0X2NhdGVnb3J5X2FuZF9wYW5lbCgpCiAgICB7CiAgICAgICAgcmV0dXJuICR0aGlzLT5iZWxvbmdzVG8oUHJvZHVjdENhdGVnb3J5OjpjbGFzcywgJ3Byb2R1Y3RfY2F0ZWdvcmllc19pZCcpCiAgICAgICAgICAgIC0+d2l0aChbCiAgICAgICAgICAgICAgICAncGFubmVsJyA9PiBmdW5jdGlvbiAoJHF1ZXJ5KSB7CiAgICAgICAgICAgICAgICAgICAgJHF1ZXJ5LT5zZWxlY3QoJ2lkJywgJ3R5cGUnLCdsb2NhdGlvbicsICd1c2VyX2xpbmsnKTsKICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIF0pCiAgICAgICAgICAgIC0+b3JkZXJCeSgnaWQnLCAnZGVzYycpOwogICAgfQogICAgcHVibGljIGZ1bmN0aW9uIHVzZXIoKQogICAgewogICAgICAgIHJldHVybiAkdGhpcy0+YmVsb25nc1RvKEJvdFVzZXI6OmNsYXNzLCAnYWNjb3VudF9pZCcsICdhY2NvdW50X2lkJyk7CiAgICB9CiAgICAvKioKICAgICAqIEdldCBhbGwgb2YgdGhlIGNvbW1lbnRzIGZvciB0aGUgUHJvZHVjdAogICAgICoKICAgICAqIEByZXR1cm4gXElsbHVtaW5hdGVcRGF0YWJhc2VcRWxvcXVlbnRcUmVsYXRpb25zXEhhc01hbnkKICAgICAqLwogICAgcHVibGljIGZ1bmN0aW9uIHRyYW5zYWN0aW9uKCkKICAgIHsKICAgICAgICByZXR1cm4gJHRoaXMtPmhhc01hbnkoT3JkZXI6OmNsYXNzLCAncHJvZHVjdF9pZCcpOwogICAgfQogICAgcHVibGljIGZ1bmN0aW9uIGNyb25fbG9nKCkKICAgIHsKICAgICAgICByZXR1cm4gJHRoaXMtPmhhc01hbnkoQ3JvbkxvZzo6Y2xhc3MsICdwcm9kdWN0X2lkJywgJ2lkJyk7CiAgICB9CiAgICBwdWJsaWMgZnVuY3Rpb24gcmVzZXJ2ZWRfY29uZmlnKCkKICAgIHsKICAgICAgICByZXR1cm4gJHRoaXMtPmhhc01hbnkoUmVzZXJ2ZXJkQ29uZmlnOjpjbGFzcywgJ3Byb2R1Y3RfaWQnLCAnaWQnKTsKICAgIH0KICAgIHB1YmxpYyBmdW5jdGlvbiBnZXRDcmVhdGVkQXRBdHRyaWJ1dGUoJHZhbHVlKQogICAgewogICAgICAgIHJldHVybiB2ZXJ0YSh2ZXJ0YSgkdmFsdWUpKS0+Zm9ybWF0RGlmZmVyZW5jZSgpOwogICAgfQogICAgcHVibGljIGZ1bmN0aW9uIGdldFVwZGF0ZWRBdEF0dHJpYnV0ZSgkdmFsdWUpCiAgICB7CiAgICAgICAgcmV0dXJuIHZlcnRhKHZlcnRhKCR2YWx1ZSkpLT5mb3JtYXREaWZmZXJlbmNlKCk7CiAgICB9Cgp9Cg==